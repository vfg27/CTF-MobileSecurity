# Solution

## Description of the problem

The frontdoor challenge requires to inspect the contents of a builded apk to obtain information about the app, execute a custom app in the server and obtain the flag.

## Solution

First of all, I debugged the apk in Android Studio. Inside the app I obtained the resources, the manifest and the .dex files. In these files, I can see the bytecode of the classes in Smali. To facilitate me the work, I used an app (jadx) to translate the Smali code to Java code. There I found the Flag class. In that class exists the method getFlag(String username, String password). This method takes as parameters the credentials of an user. These parameters are sent to the URL "http://10.0.2.2:31337/getflag" in a GET petition and if they are correct the response should be the flag. To obtain the flag you can login with your credentials or the debug credentials. In this case, the debug credentials are stored inside a String ("username=testuser&password=passtestuser123"). So, in order to obtain the flag I created a custom app in Android Studio. I copied the contents of the Flag class in my app. In the MainActivity, in the onCreate() method I called this method with the debug credentials and I retrieved the flag. The flag obtained is: MOBISEC{noob_hackers_only_check_for_backdoors}. 

In order to make this functionalities work I had to give Internet permissions to the app, allow CleartextTraffic and change the policies of the app with this lines of code:

        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();
        StrictMode.setThreadPolicy(policy);

## Optional Feedback

I think this challenge is good for learning not leaving credentials inside the contents of the app.